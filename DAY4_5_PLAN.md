# Day 4-5 優化計畫

**建立時間**: 2025-11-29 22:22
**當前狀態**: 483 problems (111 errors, 372 warnings)

---

## 當前基線

### ESLint 狀態
- 總問題數: 483
- 錯誤: 111 (-73.6% from 421)
- 警告: 372 (-11.2% from 419)

### 剩餘錯誤分布
- **no-unused-vars**: 106 個 (95.5%)
- **no-duplicate-imports**: 3 個 (2.7%)
- **其他**: 2 個 (1.8%)

---

## Day 4 計畫：剩餘錯誤分析與修復

### 目標
- 分析剩餘 111 個錯誤
- 修復可快速處理的錯誤
- 建立 Phase 2 重構計畫

### 任務清單

#### Task 1: 分析 no-unused-vars (106 個)
**預估時間**: 30 分鐘

**方法**:
1. 按檔案分組統計
2. 識別模式：
   - 預留功能函數
   - 未完成的實作
   - 可移除的死代碼
3. 分類處理策略

**輸出**: `NO_UNUSED_VARS_ANALYSIS.md`

#### Task 2: 修復 no-duplicate-imports (3 個)
**預估時間**: 10 分鐘

**方法**:
- 找出 3 個重複 import 的檔案
- 合併重複的 import 語句

**預期結果**: 3 → 0

#### Task 3: 修復其他錯誤 (2 個)
**預估時間**: 15 分鐘

**錯誤類型**:
- vue/no-dupe-keys (1)
- no-prototype-builtins (1)

**預期結果**: 2 → 0

#### Task 4: 決策 no-unused-vars 處理策略
**預估時間**: 15 分鐘

**選項**:
1. **全部前綴下劃線** - 快速但隱藏問題
2. **逐一審查移除** - 乾淨但耗時
3. **混合策略** - 移除明顯死代碼，保留可能有用的
4. **延後至 Phase 2** - 在組件拆解時一併處理

**輸出**: 決策記錄與執行計畫

---

## Day 5 計畫：Phase 2 準備

### 目標
- 建立組件拆解計畫
- 準備 Week 2 TypeScript 優化
- 更新優化路線圖

### 任務清單

#### Task 1: 組件複雜度分析
**預估時間**: 45 分鐘

**分析目標**:
- 識別需要拆解的大型組件 (>500 行)
- 分析組件職責與依賴
- 規劃拆解策略

**輸出**: `COMPONENT_REFACTORING_PLAN.md`

#### Task 2: TypeScript 類型優化準備
**預估時間**: 30 分鐘

**分析目標**:
- 統計 `any` 類型使用情況
- 識別可替換的 `any` 類型
- 規劃類型定義策略

**輸出**: `TYPESCRIPT_TYPE_PLAN.md`

#### Task 3: 更新優化路線圖
**預估時間**: 15 分鐘

**更新內容**:
- 標記 Week 1 完成項目
- 調整 Week 2-6 計畫
- 更新預估時間

**輸出**: 更新 `OPTIMIZATION_ROADMAP.md`

---

## 預期成果

### Day 4 結束時
- 錯誤數: 111 → ~100 (修復 no-duplicate-imports + 其他)
- 完成 no-unused-vars 分析與決策
- 清晰的處理策略

### Day 5 結束時
- 完整的 Phase 2 重構計畫
- TypeScript 優化準備就緒
- 更新的優化路線圖

---

## 風險與應對

### 風險 1: no-unused-vars 處理耗時
**應對**: 採用混合策略，優先處理明顯死代碼

### 風險 2: 組件拆解計畫過於複雜
**應對**: 採用漸進式拆解，優先處理高影響組件

### 風險 3: 時間不足
**應對**: 優先完成分析，執行可延後至下週

---

## 下一步行動

1. ✅ 推送所有 commits 到遠端
2. ⏳ 開始 Day 4 Task 1: 分析 no-unused-vars
3. ⏳ 根據分析結果決定處理策略
4. ⏳ 執行快速修復 (no-duplicate-imports + 其他)
5. ⏳ 準備 Phase 2 計畫

---

**備註**: 本計畫為指導性文件，可根據實際執行情況調整
